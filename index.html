<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet" />
    <link
      rel="icon"
      href="img/logo/Logo for Favicon construction.svg"
      type="image/svg+xml" />
    <link rel="stylesheet" href="css/fonts.css" />
    <link rel="stylesheet" href="css/indexstyle.css" />
  </head>

  <body>
    <!-- HEADER -->
    <div id="intro-screen">
      <img src="img/logo/Logo for Favicon construction.svg" alt="Join Logo" />
    </div>

    <header>
      <img
        src="img/logo/Logo for Favicon construction.svg"
        alt="Join Logo"
        class="join-logo" />
      <div class="signup-box" id="signup-top">
        <span class="signup-text">Not a Join user?</span>
        <button class="signup-btn dark-button" id="toggle-form">Sign up</button>
      </div>
    </header>

    <!-- LOGIN FORM -->
    <main id="login-form" class="active">
      <h1>Log in</h1>
      <div class="blueline"></div>
      <form onsubmit="login(); return false;">
        <div class="input-group">
          <input type="email" placeholder="E-Mail" id="login-email" required />
          <img src="img/icons/mail.svg" alt="Mail Icon" class="icon-mail" />
        </div>

        <div class="input-group">
          <input
            type="password"
            placeholder="Password"
            id="login-password"
            required />
          <img
            src="img/icons/lock.svg"
            alt="Lock Icon"
            class="icon-lock"
            id="toggle-password" />
        </div>

        <div class="button-group">
          <button
            class="dark-button"
            type="submit"
            aria-label="Log in to your account">
            Log in
          </button>
          <button
            type="button"
            onclick="guestLogin()"
            aria-label="Continue as guest without account">
            Guest Log in
          </button>
        </div>
      </form>
    </main>

    <!-- SIGN UP FORM -->
    <main id="signup-form" class="hidden">
      <div class="signup-header">
        <span class="material-icons back-arrow" id="back-to-login"
          >arrow_back</span
        >
        <h1>Sign up</h1>
      </div>
      <div class="blueline"></div>
      <form onsubmit="addUser(); return false;">
        <div class="input-group">
          <input type="text" id="name" placeholder="Name" required />
          <img
            src="img/icons/person.svg"
            alt="Person Icon"
            class="icon-person" />
        </div>

        <div class="input-group">
          <input type="email" id="email" placeholder="E-Mail" required />
          <img src="img/icons/mail.svg" alt="Mail Icon" class="icon-mail" />
        </div>

        <div class="input-group">
          <input
            type="password"
            id="signup-password"
            placeholder="Password"
            required />
          <img src="img/icons/lock.svg" alt="Lock Icon" class="icon-lock" />
        </div>

        <!-- ðŸ”¥ NEU: Confirm Password + Live-Warnung -->
        <div class="input-group">
          <input
            type="password"
            id="confirm-password"
            placeholder="Confirm Password"
            required />
          <img
            src="img/icons/lock.svg"
            alt="Confirm Lock Icon"
            class="icon-lock" />
        </div>
        <span id="password-error" class="error-message"></span>

        <label class="privacy-accept">
          <input type="checkbox" required aria-label="Accept privacy policy" />
          I accept the
          <a href="privacypolicy.html" target="_blank">Privacy Policy</a>
        </label>

        <div class="button-group">
          <button
            type="submit"
            class="dark-button"
            aria-label="Create new account">
            Sign up
          </button>
        </div>
      </form>
    </main>

    <!-- SIGNUP-BOX FÃœR MOBILE -->
    <div class="signup-box" id="signup-bottom">
      <span class="signup-text">Not a Join user?</span>
      <button class="signup-btn dark-button" id="toggle-form-2">Sign up</button>
    </div>

    <!-- FOOTER -->
    <div class="footer-links">
      <a href="privacypolicy.html">Privacy Policy</a>
      <a href="legal-notice.html">Legal Notice</a>
    </div>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
      import {
        getAuth,
        createUserWithEmailAndPassword,
        signInWithEmailAndPassword,
        signInAnonymously,
        RecaptchaVerifier,
        signInWithPhoneNumber,
        updateProfile,
      } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";
      import {
        getDatabase,
        ref,
        set,
      } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-database.js";
      import { firebaseConfig } from "./scripts/config.js";

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getDatabase(app);

      window.firebaseAuth = auth;
      window.firebaseDb = db;
      window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
      window.signInWithEmailAndPassword = signInWithEmailAndPassword;
      window.signInAnonymously = signInAnonymously;
      window.RecaptchaVerifier = RecaptchaVerifier;
      window.signInWithPhoneNumber = signInWithPhoneNumber;
      window.updateProfile = updateProfile;
      window.ref = ref;
      window.set = set;
    </script>

    <script src="scripts/index_ui.js"></script>
    <script src="scripts/register.js"></script>

    <!-- ðŸ”” Notification Container -->
    <div id="notification-container"></div>
  </body>
</html>
